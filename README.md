# RestakingHook

## 1. Overview

**RestakingHook** is a Uniswap v4 Hook that automatically restakes ETH when a liquidity position is inactive. It enhances yield generation by diverting idle ETH to a restaking contract and redistributing rewards to LPs based on a simulated APR model.

### üåü Problem It Solves:
- Ensures idle liquidity is effectively utilized, generating rewards even when liquidity positions are inactive.


- It ensures that idle liquidity is effectively utilized, generating rewards even when liquidity positions are inactive.

### ‚öôÔ∏è How It Works:
- The contract checks the status of the liquidity position and, if inactive, diverts ETH to a restaking contract (e.g., Lido).
- The rewards generated by the restaked ETH are then redistributed to liquidity providers (LPs).

## 2. Architecture

### Smart Contracts
- **RestakingHook.sol**: Smart Contract for liquidity management
- **PoolKeyETHUSDC.sol**: Schema for PoolKey

### Frontend
- **Welcome** Folder: Home Screen
- **Onboarding** Folder: Steps 1-3 for imputing/viewing liquidity positions
- **UserStatistics** Folder: Dashboard for positions, lp fees accumulated, restaking rewards, and currently active/inactive of postions

### Tests
- **RestakingHook.t.sol**v (IP): Check for liquidty management and integration with Uniswap
- **stake.test.js**: Checks for when we hit 32ETH before staking liquidity

### Technology/Frameworks Used:
**Solidity** **JavaScript** **React** **HTML** **CSS** **P2P**

## 3. üí∏ Benefits

- **Maximized Yield**: By restaking idle liquidity, users earn additional rewards from their ETH even when it isn't actively contributing to a liquidity pool.
- **Automated Process**: The restaking of ETH happens automatically, reducing manual intervention for liquidity providers and ensuring they are always earning.
- **Increased Transparency**: Future integration with AVS ensures that LPs can track their rewards and liquidity status with full transparency.
- **Efficient Liquidity Utilization**: Idle liquidity is redirected into yield-generating contracts, improving the efficiency of capital use in the ecosystem.


## üìå 4. How It Works (Use Cases) ##
Explain step-by-step how the contract behaves in different situations.
üí° Example Use Case: Adding Liquidity
1Ô∏è‚É£ User provides ETH & USDC in a Uniswap pool.
2Ô∏è‚É£ Contract checks if the position is active or inactive.
If active, liquidity is added normally.
If inactive, ETH is diverted to restaking.
3Ô∏è‚É£ The user's position and rewards are updated.
4Ô∏è‚É£ Restaked ETH generates yield over time, which is later distributed.

## üõ†Ô∏è 5. Example Workflow

1. A liquidity provider deposits ETH into a Uniswap v4 pool.
2. The liquidity provider's position becomes inactive due to low pool activity.
3. RestakingHook checks the position‚Äôs status and identifies that the liquidity is idle.
4. The smart contract automatically diverts the idle ETH to a restaking contract like Lido.
5. Rewards from restaked ETH are generated and automatically redistributed back to the liquidity provider.
6. The liquidity provider can see the rewards and status of their position via the platform's dashboard.

## üå± 6. Future Improvements

Our goal: Making liquidity providing profitable in any market condition

Integration with Othentic‚Äôs AVS component ensures transparent and verifiable liquidity management, proving that user funds are handled securely and in accordance with our operational standards.

Flash Accounting automatically returns liquidity to the pool as soon as the user's range is active, ensuring a seamless and instant liquidity management experience.

